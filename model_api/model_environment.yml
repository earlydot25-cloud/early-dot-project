# model_api/model_environment.yml

name: model_env
channels:
  - conda-forge
  - pytorch
  - defaults
dependencies:
  - python=3.10
  - numpy
  # pytorch-cuda=11.8 제거 - Docker 빌드 환경에서 사용 불가
  - pytorch::pytorch  # CUDA 지원 버전 (자동 감지)
  - pytorch::torchvision
  - pytorch::torchaudio
  - opencv
  - pip
  - pip:
    - fastapi
    - pydantic
    - uvicorn
    - python-multipart
    - ultralytics==8.3.218
    - segmentation-models-pytorch==0.5.0
    - timm==1.0.21
    - albumentations==0.5.2
    - scikit-image==0.24.0
    - scikit-learn
    - pandas
    - kornia==0.5.0
    - tabulate
    - pillow==10.4.0
    - hydra-core==1.2.0
    - omegaconf==2.2.3
    - easydict==1.9
    - yacs==0.1.8
    - imageio==2.37.2
    - matplotlib==3.10.7
    - tqdm==4.67.1
    - PyYAML==6.0.3
    - pytorch-lightning==1.2.9
    - joblib
    - tensorflow
    - webdataset